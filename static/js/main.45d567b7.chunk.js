(this["webpackJsonproomsquared-app"]=this["webpackJsonproomsquared-app"]||[]).push([[0],{12:function(e,t){e.exports={API_ENDPOINT:"http://localhost:8000/api",TOKEN_KEY:"pattymayonaise"}},14:function(e,t,a){var n=this,r=a(12);console.log("config",r),e.exports={saveAuthToken:function(e){console.log(r,e),window.localStorage.setItem(r.TOKEN_KEY,e)},getAuthToken:function(){return window.localStorage.getItem(r.TOKEN_KEY)},clearAuthToken:function(){window.localStorage.removeItem(r.TOKEN_KEY)},hasAuthToken:function(){return!!n.getAuthToken()},makeBasicAuthToken:function(e,t){return window.btoa("".concat(e,":").concat(t))}}},26:function(e,t,a){e.exports=a(39)},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),s=a(22),o=a.n(s),l=(a(31),a(1)),u=a(2),i=a(4),m=a(3),h=a(5),p=a(11),d=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{id:"home"},r.a.createElement("h1",{className:"header-logo"},"Room",r.a.createElement("sup",null,"2")),r.a.createElement("nav",{id:"nav",className:"nav"},r.a.createElement(c.b,{className:"smoothscroll",to:"/"},"About"),r.a.createElement(c.b,{className:"smoothscroll",to:"/home"},"Home"),r.a.createElement(c.b,{className:"smoothscroll",to:"/signin"},"Sign In"),r.a.createElement(c.b,{className:"smoothscroll",to:"/signup"},"Sign Up")))}}]),t}(n.Component),E=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("section",{className:"aboutSection"},r.a.createElement("h1",null,"Roomsquared"),r.a.createElement("h2",null,"Keep track of shared household expenses."),r.a.createElement("p",{className:"aboutBlurb"},"Roomsquared helps you track the amount of money spent and the items purchased for you and your roommates."),r.a.createElement("div",{className:"button-group"},r.a.createElement(c.b,{to:"/demo"},"Demo"),r.a.createElement("a",{href:"#features"},"Features"))),r.a.createElement("section",{className:"aboutSection",id:"features"},r.a.createElement("h3",null,"Form your group"),r.a.createElement("div",{className:"about-img-container"},r.a.createElement("img",{src:"/images/5893.png",alt:"handshake"})),r.a.createElement("p",null,"One person makes a group and everyone else will join.")),r.a.createElement("section",{className:"aboutSection"},r.a.createElement("h3",null,"Track your spends"),r.a.createElement("div",{className:"about-img-container"},r.a.createElement("img",{src:"/images/commerce-and-shopping.png",alt:"shopping sale"})),r.a.createElement("p",null,"Every time you buy toilet paper or refill the Cribs Fridge, log it.")),r.a.createElement("section",{className:"aboutSection"},r.a.createElement("h3",null,"Square up"),r.a.createElement("div",{className:"about-img-container"},r.a.createElement("img",{src:"/images/business-and-finance.png",alt:"payments"})),r.a.createElement("p",null,"At the end of the month, you will be notified how much and to whom you need to Venmo to square up the house tab.")))}}]),t}(n.Component),f=a(12),b=a.n(f),g=a(14).saveAuthToken,v=a(14);console.log(v);var N={postLogin:function(e){var t=e.username,a=e.password;return fetch("".concat(b.a.API_ENDPOINT,"/auth/signin"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:t,password:a})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){return g(e.authToken),e}))},postUser:function(e){return fetch("".concat(b.a.API_ENDPOINT,"/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}},y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},a.handleSubmitBasicAuth=function(e){e.preventDefault();var t=e.target,n=t.username,r=t.password;a.setState({error:null}),N.postLogin({username:n.value,password:r.value}).then((function(e){n.value=" ",r.value=" ",a.props.onSigninSuccess(),console.log(e)})).catch((function(e){a.setState({error:e.error})}))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.error;return r.a.createElement("form",{className:"registration",onSubmit:function(t){return e.handleSubmitBasicAuth(t)}},r.a.createElement("h2",null,"Sign In"),r.a.createElement("div",{role:"alert"},t&&r.a.createElement("p",{className:"red"},t)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",className:"registration__control",name:"username",id:"username",defaultValue:"dm"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"registration__control",name:"password",id:"password",defaultValue:"12345678"})),r.a.createElement("div",{className:"login__button__group"},r.a.createElement("button",{type:"submit",className:"login__button"},"Submit")))}}]),t}(r.a.Component);y.defaultProps={onSigninSuccess:function(){}};var O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSigninSuccess=function(){a.props.history.push("/home")},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"SigninPage"},r.a.createElement("p",null,"Welcome back."),r.a.createElement(y,{onSigninSuccess:this.handleSigninSuccess}))}}]),t}(n.Component);O.defaultProps={location:{},history:{push:function(){}}};var j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},a.handleSubmit=function(e){e.preventDefault();var t=e.target,n=t.username,r=t.password,c=t.groupId;a.setState({error:null}),N.postUser({username:n.value,password:r.value,groupId:c.value}).then((function(e){n.value=" ",r.value=" ",c.calue=" ",a.props.onRegistrationSuccess()})).catch((function(e){a.setState({error:e.error})}))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("form",{className:"registration",onSubmit:this.handleSubmit},r.a.createElement("h2",null,"Register"),r.a.createElement("div",{role:"alert"},e&&r.a.createElement("p",{className:"red"},e)),r.a.createElement("div",{className:"registration__hint"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",className:"registration__control",name:"username",id:"username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"registration__control",name:"password",id:"password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"groupId"},"Group ID"),r.a.createElement("input",{type:"groupId",className:"registration__control",name:"groupId",id:"groupId"})),r.a.createElement("div",{className:"registration__button__group"},r.a.createElement("button",{type:"reset",className:"registration__button"},"Cancel"),r.a.createElement("button",{type:"submit",className:"registration__button"},"Submit")),r.a.createElement("a",{className:"registration__button__new"},"New Group"))}}]),t}(r.a.Component);j.defaultProps={onRegistrationSuccess:function(){}};var k=j,S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSignupSuccess=function(e){a.props.history.push("/signin")},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"SignupPage"},r.a.createElement(k,{onRegistrationSuccess:this.handleSignupSuccess}))}}]),t}(n.Component);S.defaultProps={history:{push:function(){}}};var _=a(25),w=r.a.createContext({purchase:[],error:null,setError:function(){},clearError:function(){},setPurchase:function(){},clearPurchase:function(){},addPurchase:function(){}}),P=w,A=(n.Component,a(14)),I={getPurchases:function(){return fetch("".concat(b.a.API_ENDPOINT,"/purchases/"),{headers:{Authorization:"Bearer ".concat(Object(A.getAuthToken)())}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postPurchase:function(e,t,a){return fetch("".concat(b.a.API_ENDPOINT,"/purchases/add"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({item:t,price:a,username:e})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}},T=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.purchase;return r.a.createElement(c.b,{to:"/purchase/".concat(e.id),className:"PurchaseListItem"},r.a.createElement("header",{className:"PurchaseListItem__header"},r.a.createElement("h2",{className:"PurchaseListItem__heading"},e.item),r.a.createElement(x,{purchase:e})))}}]),t}(n.Component);function x(e){e.purchase;return r.a.createElement("span",{className:"PurchaseListItem__date"})}var C=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){Object(A.getAuthToken)()||this.props.history.push("/signin"),this.context.clearError(),I.getPurchases().then(this.context.setPurchase).catch(this.context.setError)}},{key:"renderPurchases",value:function(){var e=this.context.purchaseList;return(void 0===e?[]:e).map((function(e){return r.a.createElement(T,{key:e.id,purchase:e})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"main-home"},r.a.createElement("section",{className:"group-section"},r.a.createElement("h2",null,"You"),r.a.createElement("div",{className:"purchase-box"},"Your purchases"),this.renderPurchases()),r.a.createElement("section",{className:"group-section"},r.a.createElement("h2",null,"User 2"),r.a.createElement("div",{className:"purchase-box"},"User 2 purchases")),r.a.createElement("section",{className:"group-section"},r.a.createElement("h2",null,"User 3"),r.a.createElement("div",{className:"purchase-box"},"User 3 purchases")))}}]),t}(n.Component);C.contextType=P;var D=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("h2",null,"Page Not Found")}}]),t}(r.a.Component),F=a(16),U=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"createPurchase",value:function(e){return r.a.createElement("ul",{key:e.key+2},r.a.createElement("li",{className:"purchase-item",key:e.key},e.item),r.a.createElement("li",{className:"purchase-cost",key:e.key+1},"$",e.cost))}},{key:"render",value:function(){var e=this.props.entries.map(this.createPurchase);return r.a.createElement("div",{className:"purchase-box"},e)}}]),t}(r.a.Component),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={purchases:e.purchases||[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.onAddition,a={item:this._inputItem.value,cost:parseFloat(this._inputCost.value),key:Date.now()};console.log(a),this.setState((function(e){var n=e.purchases.concat(a);return t&&"function"===typeof t&&t(a,n),{purchases:n}}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"addpurchase"},r.a.createElement(U,{entries:this.state.purchases}),r.a.createElement("form",{className:"addpurchase__form",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("label",{htmlFor:"item"},"Item:"),r.a.createElement("input",{type:"text",name:"item",id:"item",ref:function(t){return e._inputItem=t},placeholder:"Papertowels, Seltzer, Shareables..."}),r.a.createElement("label",{htmlFor:"cost"},"Cost:"),r.a.createElement("input",{type:"text",name:"cost",id:"cost",ref:function(t){return e._inputCost=t},placeholder:"$"}),r.a.createElement("div",{className:"addpurchase__button"},r.a.createElement("button",{type:"submit"},"ADD"))))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={total:0},a.handleOnAddition=a.handleOnAddition.bind(Object(F.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleOnAddition",value:function(e,t){console.log(t),this.setState({total:t.reduce((function(e,t){return e+t.cost}),0)})}},{key:"render",value:function(){var e=this.state.total;return r.a.createElement("div",{className:"main-home"},r.a.createElement("section",{className:"group-section"},r.a.createElement("div",{className:"group-counter"},r.a.createElement("div",{className:"you-counter"},"You: $",e),r.a.createElement("div",{className:"user-counter"},"User 2: $75"),r.a.createElement("div",{className:"user-counter"},"User 3: $120")),r.a.createElement("h2",null,"You"),r.a.createElement($,{onAddition:this.handleOnAddition})),r.a.createElement("section",{className:"group-section"},r.a.createElement("h2",null,"User 2"),r.a.createElement("div",{className:"purchase-box"},r.a.createElement("ul",null,r.a.createElement("li",{className:"purchase-item"},"Papertowels"),r.a.createElement("li",{className:"purchase-cost"},"$15")),r.a.createElement("ul",null,r.a.createElement("li",{className:"purchase-item"},"Diet Cokes"),r.a.createElement("li",{className:"purchase-cost"},"$10")),r.a.createElement("ul",null,r.a.createElement("li",{className:"purchase-item"},"Shareables"),r.a.createElement("li",{className:"purchase-cost"},"$50")))),r.a.createElement("section",{className:"group-section"},r.a.createElement("h2",null,"User 3"),r.a.createElement("div",{className:"purchase-box"},r.a.createElement("ul",null,r.a.createElement("li",{className:"purchase-item"},"Toilet Paper"),r.a.createElement("li",{className:"purchase-cost"},"$15")),r.a.createElement("ul",null,r.a.createElement("li",{className:"purchase-item"},"Printer Ink"),r.a.createElement("li",{className:"purchase-cost"},"$30")),r.a.createElement("ul",null,r.a.createElement("li",{className:"purchase-item"},"Spectrum bill"),r.a.createElement("li",{className:"purchase-cost"},"$75")))))}}]),t}(n.Component),Y=(a(37),a(38),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1,sticky:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",(function(){window.scrollY>=30?e.setState({sticky:!0}):e.setState({sticky:!1})}))}},{key:"render",value:function(){var e=this.state.sticky;return r.a.createElement("div",{className:["App",e?"sticky-header":""].join(" ")},r.a.createElement(d,null),r.a.createElement("main",{className:"App__main"},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:E}),r.a.createElement(p.a,{path:"/signin",component:O}),r.a.createElement(p.a,{path:"/signup",component:S}),r.a.createElement(p.a,{path:"/home",component:C}),r.a.createElement(p.a,{path:"/demo",component:K}),r.a.createElement(p.a,{component:D}))))}}],[{key:"getDerivedStateFromError",value:function(e){return console.error(e),{hasError:!0}}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(c.a,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.45d567b7.chunk.js.map